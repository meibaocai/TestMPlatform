{% extends 'base.html' %}{% load staticfiles %}{% block title %}    首页-测试管理平台{% endblock %}{% block page_title %}    <ul class="breadcrumb">        <li>            <i class="icon-home"></i>            <a href="/index">Home</a>            <i class="icon-angle-right"></i>        </li>        <li><a href="{% url 'bugs:BugList' %}">我的工作台 > 版本BUG监控</a></li>    </ul>{% endblock %}{% block contend %}    <div class="portlet-body">            {% csrf_token %}            <div class="clearfix">                    <form action="{% url 'bugs:SearchBug' %}" method="get" class="form-inline" style="margin-top:5px;">                        <input type="hidden" id="bug_channel"  name="bug_channel" value="everyone">                        <label class="control-label" style="margin-left:15px;margin-top:15px;" >BugID：                            <input type="text" name="bug_id" id="bug_id" style="width:50px;"value="{{ bug_id }}">                        </label>                        <label class="control-label"  style="margin-left:15px;margin-top:15px;" >主题：                            <input type="text" name="bug_name" id="name" style="width:100px;" value="{{ bug_name }}">                        </label>                        <label class="control-label" style="margin-left:15px;margin-top:15px;">提单人：                            <select class="selectpicker" id="bug_reporter"  name="bug_reporter" multiple data-live-search="true" data-max-options="1"style="width:60px;" title="--请选择提单人--">                                <option value=""></option>                                {% for users in all_users %}                                    <option value="{{ users.username }}">{{ users.username }}</option>                                {% endfor %}                            </select>                        </label>                        <label class="control-label" style="margin-left:15px;margin-top:15px;">指派给：                            <select class="selectpicker" id="bug_solver"  name="bug_solver" multiple data-live-search="true" data-max-options="1"style="width:60px;" title="--请选择指派人--">                                <option value=""></option>                                {% for users in all_users %}                                    <option value="{{ users.username }}">{{ users.username }}</option>                                {% endfor %}                            </select>                        </label>                        <label class="control-label" style="margin-left:15px;margin-top:15px;">优先级：                            <select class="selectpicker" id="bug_level"  name="bug_level" multiple data-live-search="true" data-max-options="1"style="width:60px;" title="--请选择优先级--">                                <option value=""></option>                                <option value="yb">一般</option>                                <option value="zm">致命</option>                                <option value="yz">严重</option>                                <option value="ts">提示</option>                            </select>                        </label>                        <label class="control-label" style="margin-left:15px;margin-top:15px;">环境：                            <select class="selectpicker" id="bug_env" name="bug_env" multiple data-live-search="true" data-max-options="1"style="width:10px;" title="--请选择环境--">                                <option value=""></option>                                <option value="test">测试环境</option>                                <option value="gray">灰度环境</option>                                <option value="online">线上环境</option>                            </select>                        </label>                        <label class="control-label" style="margin-left:15px;margin-top:15px;">所属需求：                            <select class="selectpicker" id="bug_belong_requirement" name="bug_belong_requirement"  multiple data-live-search="true" data-max-options="1"style="width:60px;" title="--请选择需求--">                                <option value=""></option>                                {% for Requirement in all_Requirement %}                                    <option value="{{ Requirement.id }}">{{ Requirement.name }}</option>                                {% endfor %}                            </select>                        </label>                        <label class="control-label"  style="margin-left:15px;margin-top:15px;">状态：                            <select class="selectpicker" multiple data-actions-box="true" data-deselect-all-text = '取消选中' data-select-all-text='选中全部' showTick="true" style="width:60px;" id="bug_status" name="bug_status" title="--请选择状态--">                                    <option value="Open">打开</option>                                    <option value="ReOpen">重新打开</option>                                    <option value="Fixed">已解决</option>                                    <option value="Rejected">无需解决</option>                                    <option value="Closed">关闭</option>                                </select>                          </label>                        <button type="submit" id="sample_editable_1_new" class="btn green" style="margin-left:15px;"> 搜索 <i class="icon-search"></i></button>                    </form>                </div>            <table class="table table-striped table-bordered table-hover" id="sample_1">                <thead>                    <tr>                        <th style="width:8px;"><input type="checkbox" id="firstCheckBox" class="group-checkable" data-set="#sample_1 .checkboxes" /></th>                        <th>BugID</th>                        <th>Bug标题</th>                        <th class="hidden-480">级别</th>                        <th class="hidden-480">所属需求</th>                        <th class="hidden-480">提单人</th>                        <th class="hidden-480">指派给</th>                        <th class="hidden-480">状态</th>                        <th class="hidden-480">创建时间</th>                        <th class="hidden-480">修改时间</th>                    </tr>                </thead>                    <tbody>                        {% for bugs in pages %}                            <tr class="odd gradeX">                                    <td><input type="checkbox" class="checkboxes" name="checkbox" value="{{ bugs.id }}" /></td>                                    <td class="hidden-480">{{ bugs.id }}</td>                                    <td class="hidden-480" style="color: #246ee5" >                                        <a href="/bugs/BugDetail/{{ bugs.id  }}">{{ bugs.name }}</a>                                    </td>                                    <td class="hidden-480">{{ bugs.get_level_display}}</td>                                    <td class="hidden-480">{{ bugs.belong_requirement.name}}</td>                                    <td class="hidden-480">{{ bugs.reporter }}</td>                                    <td class="hidden-480">{{ bugs.solver }}</td>                                    <td class="hidden-480">{{ bugs.get_status_display }}</td>                                    <td class="hidden-480">{{ bugs.add_time }}</td>                                    <td class="hidden-480">{{ bugs.update_time }}</td>                            </tr>                        {% endfor %}                            <table class="table">                                <ul class="breadcrumb">                                    {% if pages.has_previous %}                                      <li class="long">                                        <a href="?bug_channel=everyone&bug_id={{ bug_id }}&bug_name={{ bug_name }}&bug_solver={{ bug_solver }}&bug_reporter={{ bug_reporter }}&bug_level={{ bug_level }}&bug_env={{ bug_env }}&bug_belong_requirement={{ bug_belong_requirement }}&{{ bug_status }}page_num={{ pages.previous_page_number }}">上一页</a>                                      </li>                                  {% endif %}                                    {% for num in pages.paginator.page_range %}                                        <li {% if num == pages.number %}class="active" {% endif %}><a href="?bug_channel=everyone&bug_id={{ bug_id }}&bug_name={{ bug_name }}&bug_solver={{ bug_solver }}&bug_reporter={{ bug_reporter }}&bug_level={{ bug_level }}&bug_env={{ bug_env }}&bug_belong_requirement={{ bug_belong_requirement }}&{{ bug_status }}page_num={{ num }}">{{ num }}</a></li>                                    {% endfor %}                                    {% if pages.has_next %}                                        <li class="long" >                                            <a href="?bug_channel=everyone&bug_id={{ bug_id }}&bug_name={{ bug_name }}&bug_solver={{ bug_solver }}&bug_reporter={{ bug_reporter }}&bug_level={{ bug_level }}&bug_env={{ bug_env }}&bug_belong_requirement={{ bug_belong_requirement }}&{{ bug_status }}page_num={{ pages.next_page_number }}">下一页</a>                                        </li>                                    {% endif %}                                </ul>                            </table>                    </tbody>            </table>    </div>    <!--弹框 -->    <div id="testAlert" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel3" aria-hidden="true">                                <div class="modal-header">                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>                                    <h3 id="myModalLabel3">警告</h3>                                </div>                                <div class="modal-body">                                    <p>是否确定删除该需求</p>                                </div>                                <div class="modal-footer">                                    <button class="btn" data-dismiss="modal" aria-hidden="true">取消</button>                                    <input type="button" id="testDel" data-dismiss="modal" class="btn blue" value="确认">                                </div>                            </div>{% endblock %}{% block myjs %}    <script>     $(document).ready(function(){    //根据值让option选中     $("#bug_level").selectpicker('val',"{{ bug_level|safe }}" );     $("#bug_reporter").selectpicker('val', "{{ bug_reporter|safe }}");     $("#bug_solver").selectpicker('val', "{{ bug_solver|safe }}");     $("#bug_env").selectpicker('val', "{{ bug_env|safe}}");     $("#bug_belong_requirement").selectpicker('val', {{ bug_belong_requirement|safe }});     $("#bug_status").selectpicker('val', {{ bug_status_list|safe }});	//多选赋值});    </script>{% endblock %}